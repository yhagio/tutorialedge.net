{{ partial "header.html" . }}

<div class="bg-gray-800 py-8 px-16 text-center text-white">
    <h1 class="flex mx-auto">
        {{ if .Params.image }}
        <img class="w-16 h-auto" src="https://images.tutorialedge.net/images/{{ .Params.image }}" alt="{{ .Title }} Image">
        {{ else }}
        <img class="w-16 h-auto" src="https://images.tutorialedge.net/images/logo.svg" alt="{{ .Title }} Image">
        {{ end }}
        <span class="text-3xl ml-8 mt-3">{{.Title}}</span>
    </h1>
</div>

<div class="w-auto p-16 shadow">
	<div class="mx-auto">
		<article class="prose max-w-none">
			{{ .Content }}
		</article>
	</div>
</div>

<div class="article-list bg-gray-200">	
	{{ range $taxonomyname, $taxonomy := .Site.Taxonomies.tags }}

	{{ $scratch := newScratch }}
	{{ range $taxonomy }}
	{{ if eq $.Params.series .Params.series }}
	{{ if not (in ($scratch.Get "tags") $taxonomyname) }}
	{{if not (eq $taxonomyname .Params.series) }}
	{{ $scratch.Add "tags" (slice $taxonomyname) }}
	{{ end }}
	{{ end }}
	{{ end }}
	{{ end }}

	{{ range $scratch.Get "tags" }}
	<h3>{{.}}</h3>
	<div class="courses">
		{{ range sort $taxonomy }}
			{{ if eq $.Params.series .Params.series }}
			<a href="{{ .Permalink }}">
				<div class="course-box">
					<h2><small>{{ .Params.difficulty }}</small><br />{{ .Title }}</h2>
					<p>{{ .Page.Params.desc }}</p>
					<button class="btn btn-success">Read Now</button>
				</div>
			</a>
			{{ end }}
		{{ end }}
	</div>
	<div class="clear"></div>
	{{ end }}
	{{ end }}
</div>

{{ partial "footer.html" . }}